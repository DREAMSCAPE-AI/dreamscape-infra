apiVersion: v1
kind: Namespace
metadata:
  name: staging
---
# Core services (auth + user)
apiVersion: apps/v1
kind: Deployment
metadata:
  name: auth-service
  namespace: staging
spec:
  replicas: 1
  selector:
    matchLabels:
      app: auth-service
  template:
    metadata:
      labels:
        app: auth-service
    spec:
      containers:
        - name: auth-service
          image: ghcr.io/dreamscape-ai/core-pod:latest
          ports:
            - containerPort: 3001
---
apiVersion: v1
kind: Service
metadata:
  name: auth-service
  namespace: staging
spec:
  selector:
    app: auth-service
  ports:
    - port: 3001
      targetPort: 3001
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: user-service
  namespace: staging
spec:
  replicas: 1
  selector:
    matchLabels:
      app: user-service
  template:
    metadata:
      labels:
        app: user-service
    spec:
      containers:
        - name: user-service
          image: ghcr.io/dreamscape-ai/core-pod:latest
          ports:
            - containerPort: 3002
---
apiVersion: v1
kind: Service
metadata:
  name: user-service
  namespace: staging
spec:
  selector:
    app: user-service
  ports:
    - port: 3002
      targetPort: 3002
---
# Business services (voyage + payment + ai)
apiVersion: apps/v1
kind: Deployment
metadata:
  name: voyage-service
  namespace: staging
spec:
  replicas: 1
  selector:
    matchLabels:
      app: voyage-service
  template:
    metadata:
      labels:
        app: voyage-service
    spec:
      containers:
        - name: voyage-service
          image: ghcr.io/dreamscape-ai/business-pod:latest
          ports:
            - containerPort: 3003
---
apiVersion: v1
kind: Service
metadata:
  name: voyage-service
  namespace: staging
spec:
  selector:
    app: voyage-service
  ports:
    - port: 3003
      targetPort: 3003
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: payment-service
  namespace: staging
spec:
  replicas: 1
  selector:
    matchLabels:
      app: payment-service
  template:
    metadata:
      labels:
        app: payment-service
    spec:
      containers:
        - name: payment-service
          image: ghcr.io/dreamscape-ai/business-pod:latest
          ports:
            - containerPort: 3005
---
apiVersion: v1
kind: Service
metadata:
  name: payment-service
  namespace: staging
spec:
  selector:
    app: payment-service
  ports:
    - port: 3005
      targetPort: 3005
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ai-service
  namespace: staging
spec:
  replicas: 1
  selector:
    matchLabels:
      app: ai-service
  template:
    metadata:
      labels:
        app: ai-service
    spec:
      containers:
        - name: ai-service
          image: ghcr.io/dreamscape-ai/business-pod:latest
          ports:
            - containerPort: 3004
---
apiVersion: v1
kind: Service
metadata:
  name: ai-service
  namespace: staging
spec:
  selector:
    app: ai-service
  ports:
    - port: 3004
      targetPort: 3004
---
# Experience services (gateway + panorama + web-client)
apiVersion: apps/v1
kind: Deployment
metadata:
  name: gateway-service
  namespace: staging
spec:
  replicas: 1
  selector:
    matchLabels:
      app: gateway-service
  template:
    metadata:
      labels:
        app: gateway-service
    spec:
      containers:
        - name: gateway-service
          image: ghcr.io/dreamscape-ai/experience-pod:latest
          ports:
            - containerPort: 3000
---
apiVersion: v1
kind: Service
metadata:
  name: gateway-service
  namespace: staging
spec:
  selector:
    app: gateway-service
  ports:
    - port: 3000
      targetPort: 3000
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: panorama-service
  namespace: staging
spec:
  replicas: 1
  selector:
    matchLabels:
      app: panorama-service
  template:
    metadata:
      labels:
        app: panorama-service
    spec:
      containers:
        - name: panorama-service
          image: ghcr.io/dreamscape-ai/experience-pod:latest
          ports:
            - containerPort: 3006
---
apiVersion: v1
kind: Service
metadata:
  name: panorama-service
  namespace: staging
spec:
  selector:
    app: panorama-service
  ports:
    - port: 3006
      targetPort: 3006
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: web-client-service
  namespace: staging
spec:
  replicas: 1
  selector:
    matchLabels:
      app: web-client-service
  template:
    metadata:
      labels:
        app: web-client-service
    spec:
      containers:
        - name: web-client-service
          image: ghcr.io/dreamscape-ai/experience-pod:latest
          ports:
            - containerPort: 5173
---
apiVersion: v1
kind: Service
metadata:
  name: web-client-service
  namespace: staging
spec:
  selector:
    app: web-client-service
  ports:
    - port: 5173
      targetPort: 5173
